<!DOCTYPE html>
<html>
<head>
    <title>Atlanta Vegan Restaurant Guide</title>
    <link rel="stylesheet" href="css/bootstrap.min.css" />
    <link rel="stylesheet" href="css/bootstrap-responsive.min.css" />
    <link rel="stylesheet" href="css/main.css" />
    <script src="js/mustache.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/bootstrap-collapse.js"></script>
    <script src="js/data.js"></script>
</head>
<body>
    <div id="column" class="template">
        <div class="span3">
            <div class="row-fluid">
                <h2>{{category}}</h2>
            </div> <!-- /.row-fluid -->
            {{#places}}
            <div class="row-fluid">
                <span class="name">{{name}}</span>
                <span class="price">{{price}}</span>
                <p class="address"> {{address}} </p>
                <p class="notes"> {{{notes}}} </p>
            </div> <!-- /.row-fluid -->
            {{/places}}
        </div> <!-- /.span3 -->
    </div> <!-- /#column.template -->
    <div class="navbar navbar-fixed-top">
        <div class="navbar-inner">
            <div class="container">
                <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </a>
                <a class="brand" href="#">Atlanta Vegan Restaurant Guide</a>
                <div class="nav-collapse">
                    <ul class="nav">
                        <li><a href="#">Suggest</a></li>
                        <li><a href="#">Donate</a></li>
                        <li>
                            <form class="navbar-search">
                                <input type="text" class="search-query" placeholder="Search">
                            </form>
                        </li>
                    </ul> <!-- /.nav -->
                </div> <!-- /.nav-collapse -->
            </div> <!-- /.container -->
        </div> <!-- /.navbar-inner -->
    </div> <!-- /.navbar -->
    <div id="content" class="container-fluid">
        <div class="row-fluid">
            <!-- render each column template here -->
        </div> <!-- /.row-fluid -->
    </div> <!-- /.container-fluid -->
    <script>
        var column_tmpl = $('#column.template').html();
        $('#content div.row-fluid').html(data.reduce(function(p, c) {
            return p + Mustache.render(column_tmpl, c);
        }, ""));
    </script>
</body>
</html>
